---
interface Props {
  source: "hackernews";
  author: string;
  date: string;
  url?: string;
}

const { source, author, date, url } = Astro.props;

const sourceConfig = {
  hackernews: {
    name: "Hacker News",
    color: "#ff6600",
    logo: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 18" width="22" height="18"><rect width="22" height="18" rx="4" fill="#ff6600"/><text x="11" y="12.5" text-anchor="middle" fill="#fff" font-family="sans-serif" font-size="9" font-weight="500">HN</text></svg>`,
  },
};

const config = sourceConfig[source];
---

<div class="quote-source">
  <span class="logo" set:html={config.logo} />
  <span class="attribution">
    {url ? <a href={url} target="_blank" rel="noopener noreferrer">{author}</a> : author}
    <svg width="4px" height="6px">
					<circle r="2" cx="2" cy="2" fill="var(--color-gray-400)"></circle>
		</svg>
    {date}
  </span>
</div>

<style>
  .quote-source {
    display: flex;
    align-items: center;
    gap: var(--space-2xs);
    margin-top: var(--space-3xs);
  }

  .logo {
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .logo :global(svg) {
    border-radius: 2px;
  }

  .attribution svg {
    margin: 0 0.3rem;
  }

  .attribution {
    font-size: var(--font-size-xs);
    font-family: var(--font-sans);
    font-weight: 500;
    color: var(--color-gray-600);
  }

  .attribution a {
    color: var(--color-gray-600);
    text-decoration: none;
  }

  .attribution a:hover {
    color: var(--color-gray-800);
  }

  .separator {
    margin: 0 0.15em;
    color: var(--color-gray-400);
  }
</style>
